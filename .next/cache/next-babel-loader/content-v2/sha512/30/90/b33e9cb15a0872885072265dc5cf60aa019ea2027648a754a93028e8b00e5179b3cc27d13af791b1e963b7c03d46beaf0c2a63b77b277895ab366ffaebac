{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jordy/Documents/GitHub/webside/pages/blog.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useEffect, useState } from \"react\";\nimport NextLink from \"next/link\";\nimport { Layout, PostListItem, ScrollToTop, elements as UI } from \"@/components\";\nimport { formatDate } from \"@/lib/format-date\";\nimport { usePagination } from \"@/lib/use-pagination\";\nexport var __N_SSG = true;\nexport default function Blog(_ref) {\n  _s();\n\n  var _this = this;\n\n  var posts = _ref.posts;\n\n  var _usePagination = usePagination(posts, 10),\n      next = _usePagination.next,\n      currentPage = _usePagination.currentPage,\n      currentData = _usePagination.currentData,\n      maxPage = _usePagination.maxPage;\n\n  var _useState = useState(null),\n      element = _useState[0],\n      setElement = _useState[1];\n\n  var observer = useRef();\n  var prevY = useRef(0);\n  var currentPosts = currentData();\n  useEffect(function () {\n    observer.current = new IntersectionObserver(function (entries) {\n      var firstEntry = entries[0];\n      var y = firstEntry.boundingClientRect.y;\n\n      if (prevY.current > y) {\n        next();\n      }\n\n      prevY.current = y;\n    }, {\n      threshold: 0.5\n    });\n  }, []);\n  useEffect(function () {\n    var currentElement = element;\n    var currentObserver = observer.current;\n\n    if (currentElement) {\n      currentObserver.observe(currentElement);\n    }\n\n    return function () {\n      if (currentElement) {\n        currentObserver.unobserve(currentElement);\n      }\n    };\n  }, [element]);\n  var metadata = {\n    title: \"Últimos Artículos\"\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    type: \"post\",\n    metadata: metadata,\n    children: [/*#__PURE__*/_jsxDEV(ScrollToTop, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), currentPosts && currentPosts.map(function (post) {\n      return /*#__PURE__*/_jsxDEV(NextLink, {\n        href: post.slug,\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          children: /*#__PURE__*/_jsxDEV(PostListItem, {\n            title: post.title,\n            date: formatDate(post.date),\n            tags: post.tags\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, _this)\n      }, post.slug, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, _this);\n    }), currentPage !== maxPage && /*#__PURE__*/_jsxDEV(UI.Text, {\n      fontSize: \"xl\",\n      fontWeight: \"bold\",\n      p: 6,\n      ref: setElement,\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Blog, \"dyQCBDh+aVIhm4+oIfZqswU7kRc=\", false, function () {\n  return [usePagination];\n});\n\n_c = Blog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"sources":["/Users/jordy/Documents/GitHub/webside/pages/blog.js"],"names":["useRef","useEffect","useState","NextLink","Layout","PostListItem","ScrollToTop","elements","UI","formatDate","usePagination","Blog","posts","next","currentPage","currentData","maxPage","element","setElement","observer","prevY","currentPosts","current","IntersectionObserver","entries","firstEntry","y","boundingClientRect","threshold","currentElement","currentObserver","observe","unobserve","metadata","title","map","post","slug","date","tags"],"mappings":"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","sourcesContent":["import { useRef, useEffect, useState } from \"react\";\nimport NextLink from \"next/link\";\n\nimport {\n  Layout,\n  PostListItem,\n  ScrollToTop,\n  elements as UI,\n} from \"@/components\";\nimport { formatDate } from \"@/lib/format-date\";\nimport { orderByDate } from \"@/lib/order-by-date\";\nimport { getAllFilesFrontMatter } from \"@/lib/mdx\";\nimport { usePagination } from \"@/lib/use-pagination\";\n\nexport default function Blog({ posts }) {\n  const { next, currentPage, currentData, maxPage } = usePagination(posts, 10);\n  const [element, setElement] = useState(null);\n  const observer = useRef();\n  const prevY = useRef(0);\n\n  const currentPosts = currentData();\n\n  useEffect(() => {\n    observer.current = new IntersectionObserver(\n      (entries) => {\n        const firstEntry = entries[0];\n        const y = firstEntry.boundingClientRect.y;\n\n        if (prevY.current > y) {\n          next();\n        }\n        prevY.current = y;\n      },\n      { threshold: 0.5 }\n    );\n  }, []);\n\n  useEffect(() => {\n    const currentElement = element;\n    const currentObserver = observer.current;\n\n    if (currentElement) {\n      currentObserver.observe(currentElement);\n    }\n\n    return () => {\n      if (currentElement) {\n        currentObserver.unobserve(currentElement);\n      }\n    };\n  }, [element]);\n\n  const metadata = {\n    title: \"Últimos Artículos\",\n  };\n\n  return (\n    <Layout type=\"post\" metadata={metadata}>\n      <ScrollToTop />\n      {currentPosts &&\n        currentPosts.map((post) => (\n          <NextLink href={post.slug} key={post.slug}>\n            <a>\n              <PostListItem\n                title={post.title}\n                date={formatDate(post.date)}\n                tags={post.tags}\n              />\n            </a>\n          </NextLink>\n        ))}\n      {currentPage !== maxPage && (\n        <UI.Text fontSize=\"xl\" fontWeight=\"bold\" p={6} ref={setElement}>\n          Cargando...\n        </UI.Text>\n      )}\n    </Layout>\n  );\n}\n\nexport async function getStaticProps() {\n  const unorderedPosts = await getAllFilesFrontMatter(\"posts\");\n  const posts = unorderedPosts.sort(orderByDate);\n\n  return {\n    props: { posts },\n  };\n}\n"]},"metadata":{},"sourceType":"module"}